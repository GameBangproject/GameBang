<!DOCTYPE html>
<html>
  <head>
    <style>
      #game-board div {
        width: 10px;
        height: 10px;
        border: 1px solid #ddd;
        float: left;
      }

      .block {
        background-color: #444;
      }

      .clear {
        background-color: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <div id="game-board"></div>

    <script>
      const boardSize = 50;
      let gameBoard = [];
      let blockPosition = { x: 0, y: 0 };
      let blockSize = 1;

      for (let y = 0; y < boardSize; y++) {
        let row = [];
        for (let x = 0; x < boardSize; x++) {
          row.push(false);
        }
        gameBoard.push(row);
      }

      function drawBoard() {
        let gameBoardDiv = document.getElementById("game-board");
        gameBoardDiv.innerHTML = "";

        for (let y = 0; y < boardSize; y++) {
          for (let x = 0; x < boardSize; x++) {
            let cellDiv = document.createElement("div");
            cellDiv.className = gameBoard[y][x] ? "block" : "clear";
            gameBoardDiv.appendChild(cellDiv);
          }
          let clearDiv = document.createElement("div");
          clearDiv.style.clear = "left";
          gameBoardDiv.appendChild(clearDiv);
        }
      }

      function addBlock() {
        blockSize = Math.ceil(Math.random() * 3);
        blockPosition = { x: Math.floor(boardSize / 2), y: 0 };
        for (let i = 0; i < blockSize; i++) {
          if (blockPosition.x + i < boardSize) {
            gameBoard[blockPosition.y][blockPosition.x + i] = true;
          }
        }
      }

      function moveBlock() {
        for (let i = 0; i < blockSize; i++) {
          if (blockPosition.x + i < boardSize) {
            gameBoard[blockPosition.y][blockPosition.x + i] = false;
          }
        }
        blockPosition.y++;
        if (
          blockPosition.y >= boardSize ||
          gameBoard[blockPosition.y][blockPosition.x]
        ) {
          blockPosition.y--;
          for (let i = 0; i < blockSize; i++) {
            if (blockPosition.x + i < boardSize) {
              gameBoard[blockPosition.y][blockPosition.x + i] = true;
            }
          }
          addBlock();
        } else {
          for (let i = 0; i < blockSize; i++) {
            if (blockPosition.x + i < boardSize) {
              gameBoard[blockPosition.y][blockPosition.x + i] = true;
            }
          }
        }
      }

      document.addEventListener("keydown", function (e) {
        switch (e.key) {
          case "ArrowLeft":
            if (blockPosition.x > 0) {
              blockPosition.x--;
            }
            break;
          case "ArrowRight":
            if (blockPosition.x + blockSize - 1 < boardSize - 1) {
              blockPosition.x++;
            }
            break;
        }
      });

      setInterval(function () {
        moveBlock();
        drawBoard();
      }, 500);

      addBlock();
      drawBoard();
    </script>
  </body>
</html>
