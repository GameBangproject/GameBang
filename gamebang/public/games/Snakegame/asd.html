<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body style="overflow: hidden">
    <h3>Snake Game</h3>
    <p>
      <img src="snakegame_images/apple.svg" id="apple" alt="먹이" /> 를 먹고
      크기를 키우자!
    </p>
    <p id="score">현재 점수 : 0</p>
    <p id="highScore">최고 점수 : 0</p>
    <ol id="highScores"></ol>
    <div id="button-cover">
      <div id="gameover_text"></div>
      <button class="button" style="top: 52%; left: 35%">Main menu</button>
      <button class="button" id="restart_game" style="top: 52%; right: 35%">
        Retry
      </button>
    </div>
    <canvas id="gameCanvas" width="600" height="600" style="z-index: -2">
    </canvas>
    <img
      id="floor"
      style="visibility: hidden"
      src="snakegame_images/soil.jpeg"
      alt="바닥"
    />
    <img
      id="snake_body"
      style="visibility: hidden"
      src="snakegame_images/snake_body30px.png"
      alt="뱀몸"
    />
    <img
      id="eyes_x"
      style="visibility: hidden"
      src="snakegame_images/snake_eye_x.png"
      alt="x축 뱀눈"
    />
    <img
      id="eyes_y"
      style="visibility: hidden"
      src="snakegame_images/snake_eye_y.png"
      alt="y축 뱀눈"
    />

    <script>
      //canvas
      let canvas = document.getElementById("gameCanvas");
      let context = canvas.getContext("2d");

      //unit
      let box = 30;
      let snake = [];
      snake[0] = { x: 10 * box, y: 10 * box };

      let tmpx = Math.floor(Math.random() * 15 + 1) * box;
      let tmpy = Math.floor(Math.random() * 15 + 1) * box;
      while (tmpx == 10 * box || tmpy == 10 * box) {
        tmpx = Math.floor(Math.random() * 15 + 1) * box;
        tmpy = Math.floor(Math.random() * 15 + 1) * box;
      }
      //food
      let food = {
        x: tmpx,
        y: tmpy,
      };
      let d;

      //score
      let score = 0;
      let highScores = JSON.parse(localStorage.getItem("highScores")) || [];

      // Update high score and display it
      function updateHighScores(score) {
        highScores.push(score);
        highScores.sort((a, b) => b - a);
        highScores = highScores.slice(0, 10); // Keep only top 10 scores
        localStorage.setItem("highScores", JSON.stringify(highScores));

        displayHighScores();
      }

      function displayHighScores() {
        const highScoresList = document.getElementById("highScores");
        highScoresList.innerHTML = "";
        highScores.forEach((score, index) => {
          const scoreItem = document.createElement("li");
          scoreItem.textContent = `${index + 1}: ${score}`;
          highScoresList.appendChild(scoreItem);
        });
      }

      displayHighScores();

      // rest of your code goes here ...
    </script>
  </body>
</html>
